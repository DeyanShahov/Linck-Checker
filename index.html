<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blogspot Link Checker - Server Edition</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üîó Blogspot Link Checker - Server Edition</h1>
            <p class="subtitle">–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—Å–∏—á–∫–∏ –ª–∏–Ω–∫–æ–≤–µ –æ—Ç Blogspot —Å–∞–π—Ç —á—Ä–µ–∑ –ª–æ–∫–∞–ª–µ–Ω Node.js —Å—ä—Ä–≤—ä—Ä</p>
            <div id="server-status" class="server-status offline">
                <span id="status-icon">‚≠ï</span>
                <span id="status-text">–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—ä—Ä–≤—ä—Ä...</span>
            </div>
        </header>

        <div id="message-container"></div>

        <section class="control-panel">
            <div class="url-input-group">
                <input type="url" id="blogspot-url" class="url-input"
                       placeholder="https://your-blog.blogspot.com"
                       value="https://www.lichna-prizma.eu/">
                <button id="check-btn" class="btn btn-primary">üîç –ü—Ä–æ–≤–µ—Ä–∏ –ª–∏–Ω–∫–æ–≤–µ—Ç–µ</button>
            </div>

            <div class="controls-row">
                <button id="refresh-broken-btn" class="btn btn-secondary hidden">üîÑ –û–±–Ω–æ–≤–∏ —Å—á—É–ø–µ–Ω–∏—Ç–µ</button>
                <button id="copy-broken-btn" class="btn btn-secondary hidden">üìã –ö–æ–ø–∏—Ä–∞–π —Å—á—É–ø–µ–Ω–∏—Ç–µ</button>
                <button id="clear-btn" class="btn btn-secondary">üóëÔ∏è –ò–∑—á–∏—Å—Ç–∏</button>
            </div>
        </section>

        <!-- ANALYSIS SECTION - Shows link overview before checking -->
        <section id="analysis-section" class="analysis-section hidden">
            <div class="analysis-header">
                <h3>üìã –ù–ê–ú–ï–†–ï–ù–ò –õ–ò–ù–ö–û–í–ï</h3>
                <p class="analysis-subtitle">–ò–∑–±–µ—Ä–µ—Ç–µ –∫–æ–∏ —Ç–∏–ø–æ–≤–µ –ª–∏–Ω–∫–æ–≤–µ –∏—Å–∫–∞—Ç–µ –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç–µ</p>
            </div>

            <div class="link-summary">
                <div class="summary-total">
                    <div class="total-number" id="analysis-total">0</div>
                    <div class="total-label">–û–±—â–æ –ª–∏–Ω–∫–æ–≤–µ</div>
                </div>

                <div class="summary-breakdown" id="analysis-breakdown">
                    <!-- Link type counts will be populated here -->
                </div>
            </div>

            <div class="type-selection">
                <h4>üéØ –ò–∑–±–µ—Ä–µ—Ç–µ —Ç–∏–ø–æ–≤–µ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞:</h4>
                <div class="type-buttons" id="type-buttons">
                    <button class="type-btn selected" data-type="all">
                        ‚úÖ –í—Å–∏—á–∫–∏ –ª–∏–Ω–∫–æ–≤–µ
                        <span class="type-count" id="type-count-all">0</span>
                    </button>
                    <button class="type-btn" data-type="image">
                        üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                        <span class="type-count" id="type-count-image">0</span>
                    </button>
                    <button class="type-btn" data-type="video">
                        üé¨ –í–∏–¥–µ–æ
                        <span class="type-count" id="type-count-video">0</span>
                    </button>
                    <button class="type-btn" data-type="webpage">
                        üåê –£–µ–± —Å—Ç—Ä–∞–Ω–∏—Ü–∏
                        <span class="type-count" id="type-count-webpage">0</span>
                    </button>
                    <button class="type-btn" data-type="document">
                        üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∏
                        <span class="type-count" id="type-count-document">0</span>
                    </button>
                    <button class="type-btn" data-type="youtube">
                        üé• YouTube
                        <span class="type-count" id="type-count-youtube">0</span>
                    </button>
                </div>

                <div class="action-buttons">
                    <button id="start-checking-btn" class="btn btn-primary">üöÄ –ó–∞–ø–æ—á–Ω–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞</button>
                    <button id="restart-analysis-btn" class="btn btn-secondary">üîÑ –ò–∑–±–µ—Ä–∏ –æ—Ç–Ω–æ–≤–æ</button>
                </div>
            </div>
        </section>

        <section id="stats-section" class="hidden">
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="total-count">0</div>
                    <div class="stat-label">–û–±—â–æ –ª–∏–Ω–∫–æ–≤–µ</div>
                </div>
                <div class="stat-card stat-success">
                    <div class="stat-number" id="success-count">0</div>
                    <div class="stat-label">–†–∞–±–æ—Ç–µ—â–∏</div>
                </div>
                <div class="stat-card stat-error">
                    <div class="stat-number" id="error-count">0</div>
                    <div class="stat-label">–°—á—É–ø–µ–Ω–∏</div>
                </div>
                <div class="stat-card stat-warning">
                    <div class="stat-number" id="pending-count">0</div>
                    <div class="stat-label">–ü—Ä–æ–≤–µ—Ä—è–≤–∞—Ç —Å–µ</div>
                </div>
            </div>
        </section>

        <section id="progress-section" class="progress-section hidden">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="progress-text" id="progress-text">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞...</div>
        </section>

        <section id="results-section" class="results-section hidden">
            <div class="results-header">
                <h3>–†–µ–∑—É–ª—Ç–∞—Ç–∏ –æ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞—Ç–∞</h3>
                <div class="filters">
                    <button class="filter-btn active" data-filter="all">üìã –í—Å–∏—á–∫–∏</button>
                    <button class="filter-btn" data-filter="success">‚úÖ –†–∞–±–æ—Ç–µ—â–∏</button>
                    <button class="filter-btn" data-filter="error">‚ùå –°—á—É–ø–µ–Ω–∏</button>
                    <button class="filter-btn" data-filter="pending">‚è≥ –ü—Ä–æ–≤–µ—Ä—è–≤–∞—Ç —Å–µ</button>
                    <span class="filter-separator">|</span>
                    <button class="filter-btn" data-filter="image">üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</button>
                    <button class="filter-btn" data-filter="video">üé¨ –í–∏–¥–µ–æ</button>
                    <button class="filter-btn" data-filter="webpage">üåê –£–µ–± —Å—Ç—Ä–∞–Ω–∏—Ü–∏</button>
                    <button class="filter-btn" data-filter="document">üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∏</button>
                    <button class="filter-btn" data-filter="youtube">üé• YouTube</button>
                </div>
            </div>
            <div class="results-list" id="results-list"></div>
            <div class="pagination" id="pagination-controls" style="display: none; padding: 15px; text-align: center; border-top: 1px solid var(--border);">
                <button id="prev-page" class="btn btn-secondary" style="margin-right: 10px;">‚¨ÖÔ∏è –ü—Ä–µ–¥–∏—à–Ω–∞</button>
                <span id="page-info" style="margin: 0 15px;">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 –æ—Ç 1</span>
                <button id="next-page" class="btn btn-secondary" style="margin-left: 10px;">–°–ª–µ–¥–≤–∞—â–∞ ‚û°Ô∏è</button>
            </div>
        </section>
    </div>

    <!-- JavaScript modules in correct order -->
    <script src="config.js"></script>
    <script src="api.js"></script>
    <script src="link-parser.js"></script>
    <script src="ui.js"></script>
    <script src="main.js"></script>
</body>
</html>
